#! /usr/bin/env python
from dipy.fixes import argparse as arg
from dipy.workflows.segment import recognize_bundles_flow

parser = arg.ArgumentParser()

parser.add_argument('streamlines')
parser.add_argument('--model_bundles', dest='model_bundles')
parser.add_argument('--model_streamlines', dest='model_streamlines')
parser.add_argument('--out_dir', dest='out_dir')
parser.add_argument('--close_centroids_thr', dest='close_centroids_thr',
                    default=20)
parser.add_argument('--clean_thr', dest='clean_thr', default=5)
parser.add_argument('--local_slr', dest='local_slr', default=True)
parser.add_argument('--expand_thr', dest='expand_thr')
parser.add_argument('--scale_range', dest='scale_range', default=(0.8, 1.2))
parser.add_argument('--disp', dest='disp', action='store_true', default=False)


if __name__ == '__main__':

    args = parser.parse_args()

    print(args)

    recognize_bundles_flow(args.streamlines, args.model_bundles,
                           args.model_streamlines, args.out_dir,
                           args.close_centroids_thr, args.clean_thr,
                           args.local_slr, args.expand_thr,
                           args.scale_range, disp=args.disp)
